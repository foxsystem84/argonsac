---
const videos = [
  {
    id: 1,
    url: "https://www.w3schools.com/html/mov_bbb.mp4",
    title: "Video 1",
  },
  { id: 2, url: "https://www.w3schools.com/html/movie.mp4", title: "Video 2" },
  {
    id: 3,
    url: "https://www.w3schools.com/html/mov_bbb.mp4",
    title: "Video 3",
  },
  { id: 4, url: "https://www.w3schools.com/html/movie.mp4", title: "Video 4" },
  {
    id: 5,
    url: "https://www.w3schools.com/html/mov_bbb.mp4",
    title: "Video 5",
  },
];
---

<!-- <section id="videos" class="min-h-screen bg-gray-100">
  <div class="container mx-auto px-4 py-8">
    <h2 class="text-3xl font-bold text-center mb-8">Videos</h2>
    <div class="grid grid-cols-1">
      {
        videos.map((video) => (
          <div class="video-container relative">
            <video
              src={video.url}
              title={video.title}
              muted
              loop
              class="w-full h-auto rounded-lg shadow-lg"
            />
            <h3 class="absolute bottom-2 left-2 bg-black bg-opacity-60 text-white px-2 py-1 rounded text-sm">
              {video.title}
            </h3>
          </div>
        ))
      }
    </div>
  </div>
</section> -->
<script is:inline>
  import { gsap } from "gsap";
  import { ScrollTrigger } from "gsap/ScrollTrigger";

  gsap.registerPlugin(ScrollTrigger);

  const videos = document.querySelectorAll("video");

  videos.forEach((video) => {
    ScrollTrigger.create({
      trigger: video,
      start: "top 80%",
      end: "bottom 20%",
      onEnter: () => video.play(),
      onLeave: () => video.pause(),
      onEnterBack: () => video.play(),
      onLeaveBack: () => video.pause(),
    });
  });
</script>
